"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[952],{2952:(e,a,l)=>{l.r(a),l.d(a,{default:()=>he});var o=l(9835);function s(e,a,l,s,t,n){const d=(0,o.up)("app-user-accounts");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d)])}const t={class:"q-pa-md q-mt-lg q-ml-lg"},n={class:"text-h6 page-title"},d=(0,o.Uk)(" User Account"),m=(0,o._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1);function c(e,a,l,s,c,i){const r=(0,o.up)("q-icon"),u=(0,o.up)("q-card-section"),p=(0,o.up)("q-separator"),_=(0,o.up)("q-tab"),b=(0,o.up)("q-btn"),w=(0,o.up)("q-tabs"),f=(0,o.up)("app-non-asc-table"),g=(0,o.up)("app-asc-table"),q=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",t,[(0,o.Wm)(q,{bordered:"",class:"my-card",elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.Wm)(r,{name:"badge"}),d])])),_:1}),(0,o.Wm)(p,{inset:""}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{modelValue:e.tab,"onUpdate:modelValue":a[2]||(a[2]=a=>e.tab=a),dense:"",align:"left",class:"text-dark","indicator-color":"blue","no-caps":!0},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{name:"nonasc",label:"Non ASC Users",onClick:a[0]||(a[0]=e=>i.setActiveTab("nonasc"))}),(0,o.Wm)(_,{name:"asc",label:"ASC Users",onClick:a[1]||(a[1]=e=>i.setActiveTab("asc"))}),"asc"==e.tab?((0,o.wg)(),(0,o.j4)(b,{key:0,label:"Add ASC User",elevated:"",class:"q-my-md",id:"addAscUser",size:"sm",icon:"add_circle",color:"primary",onClick:i.showAddASCUser},null,8,["onClick"])):(0,o.kq)("",!0)])),_:1},8,["modelValue"]),m,"nonasc"==e.tab?((0,o.wg)(),(0,o.j4)(f,{key:0,ref:"nonasc"},null,512)):"asc"==e.tab?((0,o.wg)(),(0,o.j4)(g,{key:1,ref:"asc"},null,512)):(0,o.kq)("",!0)])),_:1})])),_:1})])}var i=l(6970);const r={class:"q-mt-md"},u={class:"loading-page"},p=(0,o._)("i",{class:"fa fa-eye"},null,-1),_={class:"text-right q-mt-md"};function b(e,a,l,s,t,n){const d=(0,o.up)("q-spinner-ios"),m=(0,o.up)("q-card-section"),c=(0,o.up)("q-badge"),b=(0,o.up)("q-td"),w=(0,o.up)("q-btn"),f=(0,o.up)("q-table"),g=(0,o.up)("q-pagination"),q=(0,o.up)("modal-add-user");return(0,o.wg)(),(0,o.iD)("div",r,[e.loading_list?((0,o.wg)(),(0,o.j4)(m,{key:0,class:"text-center q-pa-lg"},{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o.Wm)(d,{color:"white",size:"3rem"})])])),_:1})):((0,o.wg)(),(0,o.j4)(f,{key:1,rows:e.rows,columns:s.columns,"row-key":"id",square:!0,flat:"","hide-bottom":""},{"body-cell-status":(0,o.w5)((e=>[(0,o.Wm)(b,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{color:n.parseStatus(e.row.status).color},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(n.parseStatus(e.row.status).val),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"body-cell-actions":(0,o.w5)((e=>[(0,o.Wm)(b,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{dense:"",round:"",color:"green-12",onClick:a=>n.view(e.row)},{default:(0,o.w5)((()=>[p])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])),(0,o._)("div",_,[(0,o.Wm)(g,{modelValue:e.current,"onUpdate:modelValue":a[0]||(a[0]=a=>e.current=a),max:e.max,"direction-links":"",flat:"",color:"grey","active-color":"primary"},null,8,["modelValue","max"])]),e.show_modal_user?((0,o.wg)(),(0,o.j4)(q,{key:2,selected_item:e.selected_item,modal_type:"approval",closeModal:n.closeModal},null,8,["selected_item","closeModal"])):(0,o.kq)("",!0)])}const w={class:"q-pa-md q-gutter-sm"},f=(0,o._)("div",{class:"text-h6"},"Add ASC User",-1),g=(0,o._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1),q={class:"text-h6 q-mb-md"},h=(0,o.Uk)(" Personal Information:"),v={class:"form row"},A={class:"col-md-6 q-pa-md"},k={class:"col-md-6 q-pa-md"},W={class:"col-md-6 q-pa-md"},U={class:"col-md-6 q-pa-md"},V={class:"col-md-6 q-pa-md"},y={class:"text-h6 q-mb-md"},Z=(0,o.Uk)(" Account Information:"),C={class:"form row"},Q={class:"col-md-12 q-pa-md"},S={class:"col-md-6 q-pa-md"},x={class:"col-md-6 q-pa-md"},M={key:0},D=(0,o.Uk)(" Note: Proceed to Account Information to complete adding of ASC user."),N=(0,o.Uk)(" Save");function T(e,a,l,s,t,n){const d=(0,o.up)("q-space"),m=(0,o.up)("q-btn"),c=(0,o.up)("q-card-section"),i=(0,o.up)("q-tab"),r=(0,o.up)("q-tabs"),u=(0,o.up)("q-icon"),p=(0,o.up)("q-input"),_=(0,o.up)("q-card"),b=(0,o.up)("q-dialog"),T=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",w,[(0,o.Wm)(b,{modelValue:e.icon,"onUpdate:modelValue":a[11]||(a[11]=a=>e.icon=a),persistent:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{style:{width:"900px","max-width":"80vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[f,(0,o.Wm)(d),(0,o.wy)((0,o.Wm)(m,{icon:"close",flat:"",round:"",dense:"",onClick:l.closeModal},null,8,["onClick"]),[[T]])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{modelValue:e.tab,"onUpdate:modelValue":a[2]||(a[2]=a=>e.tab=a),dense:"",align:"left",class:"text-dark","indicator-color":"blue","no-caps":!0},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{name:"user",label:"User Details",onClick:a[0]||(a[0]=a=>e.active_tab="UserDetails")}),(0,o.Wm)(i,{name:"account",label:"Account Information",onClick:a[1]||(a[1]=a=>e.active_tab="AccountInfo")})])),_:1},8,["modelValue"]),g,(0,o.Wm)(_,{square:!0,flat:"",bordered:!0,class:"q-my-md"},{default:(0,o.w5)((()=>["UserDetails"==e.active_tab?((0,o.wg)(),(0,o.j4)(c,{key:0},{default:(0,o.w5)((()=>[(0,o._)("div",q,[(0,o.Wm)(u,{name:"label_important",class:"text-red-15"}),h]),(0,o._)("div",v,[(0,o._)("div",A,[(0,o.Wm)(p,{outlined:"",label:"Given Name",modelValue:e.fname,"onUpdate:modelValue":a[3]||(a[3]=a=>e.fname=a)},null,8,["modelValue"])]),(0,o._)("div",k,[(0,o.Wm)(p,{outlined:"",label:"Middle Name",modelValue:e.mname,"onUpdate:modelValue":a[4]||(a[4]=a=>e.mname=a)},null,8,["modelValue"])]),(0,o._)("div",W,[(0,o.Wm)(p,{outlined:"",label:"Last Name",modelValue:e.lname,"onUpdate:modelValue":a[5]||(a[5]=a=>e.lname=a)},null,8,["modelValue"])]),(0,o._)("div",U,[(0,o.Wm)(p,{outlined:"",label:"Mobile Number",modelValue:e.mobile_num,"onUpdate:modelValue":a[6]||(a[6]=a=>e.mobile_num=a)},null,8,["modelValue"])]),(0,o._)("div",V,[(0,o.Wm)(p,{outlined:"",label:"User Role",modelValue:e.user_role,"onUpdate:modelValue":a[7]||(a[7]=a=>e.user_role=a)},null,8,["modelValue"])])])])),_:1})):"AccountInfo"==e.active_tab?((0,o.wg)(),(0,o.j4)(c,{key:1},{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o.Wm)(u,{name:"label_important",class:"text-red-15"}),Z]),(0,o._)("div",C,[(0,o._)("div",Q,[(0,o.Wm)(p,{outlined:"",label:"Email Address",modelValue:e.email_address,"onUpdate:modelValue":a[8]||(a[8]=a=>e.email_address=a)},null,8,["modelValue"])]),(0,o._)("div",S,[(0,o.Wm)(p,{outlined:"",label:"Password",modelValue:e.password,"onUpdate:modelValue":a[9]||(a[9]=a=>e.password=a)},null,8,["modelValue"])]),(0,o._)("div",x,[(0,o.Wm)(p,{outlined:"",label:"Confirm Password",modelValue:e.confirm_password,"onUpdate:modelValue":a[10]||(a[10]=a=>e.confirm_password=a)},null,8,["modelValue"])])])])),_:1})):(0,o.kq)("",!0)])),_:1}),"UserDetails"==e.active_tab?((0,o.wg)(),(0,o.iD)("strong",M,[(0,o.Wm)(u,{name:"error_outline"}),D])):(0,o.kq)("",!0),"AccountInfo"==e.active_tab?((0,o.wg)(),(0,o.j4)(m,{key:1,class:"bg-blue-13 text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{name:"offline_pin"}),N])),_:1})):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const I={props:["closeModal","modal_type","selected_item"],data:()=>({icon:!0,fname:"",mname:"",lname:"",mobile_num:"",user_role:"",email_address:"",password:"",confirm_password:"",active_tab:"UserDetails",tab:"user"}),mounted(){this.initApp()},methods:{initApp(){if("approval"===this.modal_type)for(let e in this.selected_item)this[e]=this.selected_item[e]}}};var j=l(1639),z=l(2074),P=l(4458),B=l(3190),E=l(136),$=l(4455),F=l(7817),L=l(900),O=l(2857),R=l(6611),G=l(2146),H=l(9984),J=l.n(H);const K=(0,j.Z)(I,[["render",T]]),X=K;J()(I,"components",{QDialog:z.Z,QCard:P.Z,QCardSection:B.Z,QSpace:E.Z,QBtn:$.Z,QTabs:F.Z,QTab:L.Z,QIcon:O.Z,QInput:R.Z}),J()(I,"directives",{ClosePopup:G.Z});const Y=[{name:"id",align:"center",label:"ID",field:"id",sortable:!0},{name:"fname",align:"center",label:"Full name",field:"fullname",sortable:!0},{name:"email_address",align:"center",label:"Email Address",field:"email"},{name:"mobile_num",align:"center",label:"Mobile Number",field:"phone"},{name:"status",align:"center",label:"Status",field:"status",sortable:!0},{name:"actions",align:"center",label:"Actions",field:"",sortable:!1}],ee={props:["tableData"],data:()=>({rows:[],is_approval_modal:!1,selected_item:null,show_modal_user:!1,current:1,size:5,max:0,loading_list:!1}),mounted(){this.initApp()},components:{modalAddUser:X},methods:{initApp(){this.getAllNONASC()},async getAllNONASC(){this.loading=!0;let e=this;e.loading_list=!0;let a={page:e.current,size:e.size,order:"id:asc",search:""},{data:l,status:o}=await this.$store.dispatch("account/getAllUsers",a);[200,201].includes(o)&&this.$nextTick((()=>{this.rows=l.rows,e.table_data=l.rows,e.current=l.cpage,e.max=l.tpage,this.loading=!1})),e.loading_list=!1},view(e){let a=this;console.log(e),a.selected_item=e,a.show_modal_user=!0},closeModal(){this.show_modal_user=!1},parseStatus(e){switch(e){case 0:return{val:"pending",color:"grey"};case 1:return{val:"active",color:"green"}}}},setup(){return{columns:Y}}};var ae=l(8359),le=l(1463),oe=l(7220),se=l(990),te=l(996);const ne=(0,j.Z)(ee,[["render",b]]),de=ne;J()(ee,"components",{QCardSection:B.Z,QSpinnerIos:ae.Z,QTable:le.Z,QTd:oe.Z,QBadge:se.Z,QBtn:$.Z,QPagination:te.Z});const me={class:"q-mt-md"};function ce(e,a,l,s,t,n){const d=(0,o.up)("q-table"),m=(0,o.up)("app-add-user-modal");return(0,o.wg)(),(0,o.iD)("div",me,[(0,o.Wm)(d,{rows:e.rows,columns:s.columns,"row-key":"fname",square:!0},null,8,["rows","columns"]),e.show_add_user_modal?((0,o.wg)(),(0,o.j4)(m,{key:0,selected_item:{},modal_type:"add-user",closeModal:n.closeModal},null,8,["closeModal"])):(0,o.kq)("",!0)])}const ie=[{name:"fname",align:"center",label:"First name",field:"fname",sortable:!0,sort:"asc"},{name:"lname",label:"Last Name",field:"lname",sortable:!0},{name:"company",label:"Company",field:"lname"},{name:"email_address",label:"Email Address",field:"email_address"},{name:"mobile",label:"Mobile Number",field:"mobile"},{name:"action",label:"Status",field:"action",sortable:!0}],re={data:()=>({show_add_user_modal:!1,rows:[{fname:"Sample",lname:"ASC USER",company:"sample",email_address:"sample@sample.com",mobile:"091234567890",action:"status"}]}),components:{AppAddUserModal:X},methods:{closeModal(){this.show_add_user_modal=!1}},setup(){return{columns:ie}}},ue=(0,j.Z)(re,[["render",ce]]),pe=ue;J()(re,"components",{QBtn:$.Z,QTable:le.Z});const _e={name:"AdminAnnouncements",data:()=>({active_tab:"nonasc",all_nonc:[],loading:!0,tab:"nonasc"}),components:{AppNonAscTable:de,AppAscTable:pe},mounted(){this.active_tab="nonasc"},methods:{setActiveTab(e){this.tab=e},showAddASCUser(){this.$refs.asc.show_add_user_modal=!0}},setup(){return{}}};var be=l(926);const we=(0,j.Z)(_e,[["render",c]]),fe=we;J()(_e,"components",{QCard:P.Z,QCardSection:B.Z,QIcon:O.Z,QSeparator:be.Z,QTabs:F.Z,QTab:L.Z,QBtn:$.Z});const ge={data:()=>({}),components:{AppUserAccounts:fe},methods:{}},qe=(0,j.Z)(ge,[["render",s]]),he=qe}}]);