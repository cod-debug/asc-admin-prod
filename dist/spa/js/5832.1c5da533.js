"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[5832],{5832:(e,l,a)=>{a.r(l),a.d(l,{default:()=>le});var o=a(9835),t=a(799),i=a(6970);const s={key:0,class:"loading-page"},d={class:"text-center"},c=(0,o._)("br",null,null,-1),n=(0,o._)("span",{class:"text-white"},"FETCHING DATA",-1),u={class:"q-pa-md"},m=(0,o.Uk)(" Type of Medium Informations"),r={class:"row"},p={class:"col-6 q-pa-sm"},g={class:"col-6 q-pa-sm"},_={class:"col-12 q-pa-sm"},v={class:"row"},h=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),V={class:"col-12 col-md-3"},b={class:"col-12 col-md-3"},f={class:"row"},w=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),I={class:"col-12 col-md-3"},W={class:"col-12 col-md-3"},q={class:"row"},y=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),Z={class:"col-12 col-md-3"},S={class:"col-12 col-md-3"},U=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),z=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),M={class:"col-12 col-md-3"},C={class:"col-12 col-md-3"},k=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),x=(0,o._)("div",{class:"col-12 col-md-3"},null,-1),D={class:"col-12 col-md-3"},Q={class:"col-12 col-md-3"},T=(0,o._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1);function $(e,l,a,$,A,E){const F=(0,o.up)("q-spinner-ios"),B=(0,o.up)("q-icon"),L=(0,o.up)("q-select"),X=(0,o.up)("q-input"),H=(0,o.up)("q-separator"),K=(0,o.up)("q-toggle"),G=(0,o.up)("q-form"),N=(0,o.up)("q-card-section"),O=(0,o.up)("q-card"),j=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",null,[e.is_loading?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",d,[(0,o.Wm)(F,{color:"white",size:"3rem"}),c,n])])):(0,o.kq)("",!0),(0,o._)("div",u,[(0,o.Wm)(O,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(B,{name:"label_important",class:"text-h6 text-red-15"}),m]),(0,o.Wm)(G,{ref:"announcement_form",onSubmit:(0,t.iM)(E.submit,["prevent"]),greedy:!0},{default:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o._)("div",p,[(0,o.Wm)(L,{outlined:"",label:"Type of Main Document *","option-label":"name","option-value":"id",options:e.main_docs_options,modelValue:e.docmainId,"onUpdate:modelValue":l[0]||(l[0]=l=>e.docmainId=l),rules:[e=>!!e||"Field is required"]},null,8,["options","modelValue","rules"])]),(0,o._)("div",g,[(0,o.Wm)(X,{outlined:"",label:"Type of Medium *",modelValue:e.desc,"onUpdate:modelValue":l[1]||(l[1]=l=>e.desc=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",_,[(0,o.Wm)(L,{outlined:"",label:"Type of Clearance *",modelValue:e.clearanceId,"onUpdate:modelValue":l[2]||(l[2]=l=>e.clearanceId=l),options:e.clearance_options,"option-value":"id","option-label":"type",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","options","rules"])])]),(0,o.Wm)(H),(0,o._)("div",v,[h,(0,o._)("div",V,[(0,o.Wm)(K,{modelValue:e.single,"onUpdate:modelValue":l[3]||(l[3]=l=>e.single=l),label:"Single Media",color:"red-12"},null,8,["modelValue"])]),(0,o._)("div",b,[(0,o.Wm)(K,{modelValue:e.multi,"onUpdate:modelValue":l[4]||(l[4]=l=>e.multi=l),label:"Multimedia",color:"red-12"},null,8,["modelValue"])])]),(0,o.Wm)(H),(0,o._)("div",f,[w,(0,o._)("div",I,[(0,o.Wm)(K,{modelValue:e.moving,"onUpdate:modelValue":l[5]||(l[5]=l=>e.moving=l),label:"Multimedia Moving",color:"red-12"},null,8,["modelValue"])]),(0,o._)("div",W,[(0,o.Wm)(K,{modelValue:e.static_val,"onUpdate:modelValue":l[6]||(l[6]=l=>e.static_val=l),label:"Multimedia Static",color:"red-12"},null,8,["modelValue"])])]),(0,o.Wm)(H),(0,o._)("div",q,[y,(0,o._)("div",Z,[(0,o.Wm)(K,{modelValue:e.execution,"onUpdate:modelValue":l[7]||(l[7]=l=>e.execution=l),label:"Execution Enable",color:"red-12"},null,8,["modelValue"])]),(0,o._)("div",S,[(0,o.Wm)(K,{modelValue:e.static_val,"onUpdate:modelValue":l[8]||(l[8]=l=>e.static_val=l),label:"Static Enable",color:"red-12"},null,8,["modelValue"])]),U,z,(0,o._)("div",M,[(0,o.Wm)(K,{modelValue:e.length,"onUpdate:modelValue":l[9]||(l[9]=l=>e.length=l),label:"Length Enable",color:"red-12"},null,8,["modelValue"])]),(0,o._)("div",C,[(0,o.Wm)(K,{modelValue:e.language,"onUpdate:modelValue":l[10]||(l[10]=l=>e.language=l),label:"Language Enable",color:"red-12"},null,8,["modelValue"])]),k,x,(0,o._)("div",D,[(0,o.Wm)(K,{modelValue:e.size,"onUpdate:modelValue":l[11]||(l[11]=l=>e.size=l),label:"Size Enable",color:"red-12"},null,8,["modelValue"])]),(0,o._)("div",Q,[(0,o.Wm)(K,{modelValue:e.width,"onUpdate:modelValue":l[12]||(l[12]=l=>e.width=l),label:"Width Enable",color:"red-12"},null,8,["modelValue"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),T,(0,o._)("div",null,[(0,o.Wm)(j,{color:"primary",class:"q-mt-xl",onClick:E.submit},{default:(0,o.w5)((()=>[(0,o.Wm)(B,{name:"save"}),(0,o.Uk)(" "+(0,i.zw)(E.is_update?"Save Changes":"Save"),1)])),_:1},8,["onClick"])])])])}var A=a(6827);const E={data:()=>({is_loading:!1,desc:"",single:!1,multi:!1,moving:!1,static_val:!1,execution:!1,language:!1,length:!1,width:!1,size:!1,others:!1,clearanceId:null,docmainId:null,main_docs_options:[],clearance_options:[]}),watch:{},computed:{is_update(){return this.$route.params.id?(this.getSpecific(),!0):(this.initApp(),!1)},selectedID(){return this.$route.params.id}},mounted(){},methods:{initApp(){this.getMainDocuments(),this.getClearances()},async validate(e){return await this.$refs.announcement_form.validate()},async getMainDocuments(){let e=this,l={page:1,size:100,order:"desc:asc",search:""},{data:a,status:o}=await e.$store.dispatch("type_of_docu/getTypeOfMainDocu",l);[200,201].includes(o)&&(e.main_docs_options=a.rows),console.log("KUHA LIST")},async getClearances(){let e=this,l={page:1,size:100,order:"type:asc",search:""},{data:a,status:o}=await e.$store.dispatch("clearance/get",l);[200,201].includes(o)&&(e.clearance_options=a.rows)},async getSpecific(){let e=this;e.is_loading=!0;let l={id:e.selectedID};await this.getClearances(),await this.getMainDocuments();let{data:a,status:o}=await e.$store.dispatch("medium/getSpecific",l);if(console.log(a),[200,201].includes(o)){for(let l in a)e[l]=a[l],"docmainId"==l?e.docmainId=e.main_docs_options.filter((e=>e.id==a["docmainId"]))[0]:"clearanceId"==l&&(e.clearanceId=e.clearance_options.filter((e=>e.id==a["clearanceId"]))[0]);e["static_val"]=a.static}e.is_loading=!1},async submit(){let e=this;if(console.log(await this.validate()),await this.validate()){let l={desc:e.desc.toUpperCase(),single:e.single,multi:e.multi,moving:e.moving,static:e.static_val,execution:e.execution,language:e.language,length:e.length,width:e.width,size:e.size,others:e.others,clearanceId:e.clearanceId.id,docmainId:e.docmainId.id},a="medium/add",o="created";e.is_update&&(l={data:l,id:e.selectedID},o="updated",a="medium/update");let{data:t,status:i}=await this.$store.dispatch(a,l);[200,201].includes(i)?(A.Z.create({message:`Successfully ${o} Type of Medium.`,position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}),this.$router.push({name:"medium-lists"})):A.Z.create({message:t.message,position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else A.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},isValidEmail(e){const l=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return l.test(e)||"Invalid email"}}};var F=a(1639),B=a(8359),L=a(4458),X=a(3190),H=a(2857),K=a(8326),G=a(7887),N=a(6611),O=a(926),j=a(3175),J=a(7817),P=a(8879),R=a(9984),Y=a.n(R);const ee=(0,F.Z)(E,[["render",$]]),le=ee;Y()(E,"components",{QSpinnerIos:B.Z,QCard:L.Z,QCardSection:X.Z,QIcon:H.Z,QForm:K.Z,QSelect:G.Z,QInput:N.Z,QSeparator:O.Z,QToggle:j.Z,QTabs:J.Z,QBtn:P.Z})}}]);