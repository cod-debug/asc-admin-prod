"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[670],{4670:(e,t,l)=>{l.r(t),l.d(t,{default:()=>x});var a=l(9835),s=l(799);const n={class:"q-pa-md"},o=(0,a.Uk)(" Company Information"),i={class:"row"},u={class:"col-sm-12 col-md-12 q-pa-sm"},d={class:"col-sm-12 col-md-12 q-pa-sm"},m={class:"col-sm-12 col-md-12 q-pa-sm"},r={class:"row"},c={class:"col-sm-12 col-md-4 q-pa-sm"},p={class:"col-sm-12 col-md-4 q-pa-sm"},_=(0,a.Uk)(" No results "),h=(0,a._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1),b=(0,a.Uk)(" Save");function g(e,t,l,g,v,q){const f=(0,a.up)("q-icon"),V=(0,a.up)("q-input"),w=(0,a.up)("q-item-section"),Z=(0,a.up)("q-item"),k=(0,a.up)("q-select"),y=(0,a.up)("q-form"),W=(0,a.up)("q-card-section"),C=(0,a.up)("q-card"),I=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",n,[(0,a.Wm)(C,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(f,{name:"label_important",class:"text-h6 text-red-15"}),o]),(0,a.Wm)(y,{ref:"announcement_form",onSubmit:(0,s.iM)(q.submit,["prevent"]),greedy:!0},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",u,[(0,a.Wm)(V,{outlined:"",label:"Title *",modelValue:e.announcement_title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.announcement_title=t),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,a._)("div",d,[(0,a.Wm)(V,{modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.description=t),"input-debounce":"0",outlined:"",label:"Details *",type:"textarea",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,a._)("div",m,[(0,a.Wm)(V,{modelValue:e.link,"onUpdate:modelValue":t[2]||(t[2]=t=>e.link=t),"input-debounce":"0",outlined:"",label:"Link *",type:"textarea",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])]),(0,a._)("div",r,[(0,a._)("div",c,[(0,a.Wm)(V,{outlined:"",label:"Posting Date *",modelValue:e.posting_date,"onUpdate:modelValue":t[3]||(t[3]=t=>e.posting_date=t),type:"date",onFocus:t[4]||(t[4]=t=>e.show_posting_date=!0),rules:[e=>!!e||"Field is required"],"stack-label":""},null,8,["modelValue","rules"])]),(0,a._)("div",p,[(0,a.Wm)(k,{modelValue:e.status,"onUpdate:modelValue":t[5]||(t[5]=t=>e.status=t),"input-debounce":"0",outlined:"",label:"Status *",options:e.options,rules:[e=>!!e||"Field is required"]},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{class:"text-grey"},{default:(0,a.w5)((()=>[_])),_:1})])),_:1})])),_:1},8,["modelValue","options","rules"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),h,(0,a._)("div",null,[(0,a.Wm)(I,{color:"primary",class:"q-mt-xl",onClick:q.submit},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"save"}),b])),_:1},8,["onClick"])])])])}var v=l(4328);const q={data:()=>({announcement_title:"",description:"",link:"",number_of_view:"",show_posting_date:!1,options:[],posting_date:null,status:""}),mounted(){this.options=["ACTIVE","INACTIVE"],this.status="ACTIVE"},methods:{async validate(e){return await this.$refs.announcement_form.validate()},async submit(){if(console.log(await this.validate()),await this.validate()){let e={title:this.announcement_title,details:this.description,link:this.link,pdate:this.posting_date},{data:t,status:l}=await this.$store.dispatch("announcements/addAnnouncement",e);[200,201].includes(l)?(v.Z.create({message:"Successfully created announcement.",position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}),this.$router.push({name:"announcement-lists"})):v.Z.create({message:t.message,position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else v.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"}}};var f=l(1639),V=l(4458),w=l(3190),Z=l(2857),k=l(8326),y=l(6611),W=l(6945),C=l(490),I=l(1233),Q=l(7817),A=l(4455),S=l(9984),U=l.n(S);const F=(0,f.Z)(q,[["render",g]]),x=F;U()(q,"components",{QCard:V.Z,QCardSection:w.Z,QIcon:Z.Z,QForm:k.Z,QInput:y.Z,QSelect:W.Z,QItem:C.Z,QItemSection:I.Z,QTabs:Q.Z,QBtn:A.Z})}}]);