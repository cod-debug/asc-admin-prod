"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[9146],{9146:(e,a,l)=>{l.r(a),l.d(a,{default:()=>I});var t=l(9835),o=l(799),s=l(6970);const n={class:"q-pa-md"},u=(0,t.Uk)(" Document Information"),i={class:"row"},r={class:"col-sm-12 col-md-12 q-pa-sm"},d={class:"col-sm-12 col-md-6 q-pa-sm"},c=(0,t._)("br",null,null,-1),m=(0,t._)("br",null,null,-1),p={class:"col-sm-12 col-md-6 q-pa-sm"},h=(0,t._)("br",null,null,-1),f=(0,t._)("br",null,null,-1),_=(0,t._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1);function b(e,a,l,b,v,g){const V=(0,t.up)("q-icon"),y=(0,t.up)("q-input"),k=(0,t.up)("q-toggle"),Z=(0,t.up)("q-form"),q=(0,t.up)("q-card-section"),w=(0,t.up)("q-card"),W=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",n,[(0,t.Wm)(w,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(V,{name:"label_important",class:"text-h6 text-red-15"}),u]),(0,t.Wm)(Z,{ref:"announcement_form",onSubmit:(0,o.iM)(g.submit,["prevent"]),greedy:!0},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t._)("div",r,[(0,t.Wm)(y,{outlined:"",label:"Type of Document *",modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.name=a),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,t._)("div",d,[(0,t.Wm)(k,{modelValue:e.launch,"onUpdate:modelValue":a[1]||(a[1]=a=>e.launch=a),label:"Has Date of Launch",color:"red"},null,8,["modelValue"]),c,(0,t.Wm)(k,{modelValue:e.basis,"onUpdate:modelValue":a[2]||(a[2]=a=>e.basis=a),label:"Has Basis",color:"red"},null,8,["modelValue"]),m,(0,t.Wm)(k,{modelValue:e.remark,"onUpdate:modelValue":a[3]||(a[3]=a=>e.remark=a),label:"Has Remarks",color:"red"},null,8,["modelValue"])]),(0,t._)("div",p,[(0,t.Wm)(k,{modelValue:e.expire,"onUpdate:modelValue":a[4]||(a[4]=a=>e.expire=a),label:"Has Expiration Date",color:"red"},null,8,["modelValue"]),h,(0,t.Wm)(k,{modelValue:e.variant,"onUpdate:modelValue":a[5]||(a[5]=a=>e.variant=a),label:"Has Variant",color:"red"},null,8,["modelValue"]),f,(0,t.Wm)(k,{modelValue:e.input,"onUpdate:modelValue":a[6]||(a[6]=a=>e.input=a),label:"Has Input",color:"red"},null,8,["modelValue"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),_,(0,t._)("div",null,[(0,t.Wm)(W,{color:"primary",class:"q-mt-xl",onClick:g.submit},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{name:"save"}),(0,t.Uk)(" "+(0,s.zw)(g.is_update?"Save Changes":"Save"),1)])),_:1},8,["onClick"])])])])}var v=l(6827);const g={data:()=>({name:"",launch:!1,basis:!1,remark:!1,expire:!1,variant:!1,input:!1}),watch:{},computed:{is_update(){return!!this.$route.params.id&&(this.getSpecific(),!0)},selectedID(){return this.$route.params.id}},mounted(){},methods:{async validate(e){return await this.$refs.announcement_form.validate()},async getSpecific(){let e=this,a={id:e.selectedID},{data:l,status:t}=await this.$store.dispatch("type_of_docu/getSpecificTypeOfDocu",a);if(console.log(l),[200,201].includes(t))for(let o in l){let a=["basis","expire","input","launch","remark","remark","variant"];a.includes(o)?e[o]=!!l[o]:e[o]=l[o]}},async submit(){let e=this;if(console.log(await this.validate()),await this.validate()){let a={name:e.name,launch:e.launch,basis:e.basis,remark:e.remark,expire:e.expire,variant:e.variant,input:e.input},l="type_of_docu/addTypeOfDocu",t="created";e.is_update&&(a={data:a,id:e.selectedID},t="updated",l="type_of_docu/updateTypeOfDocu"),console.log(a);let{data:o,status:s}=await this.$store.dispatch(l,a);[200,201].includes(s)?(v.Z.create({message:`Successfully ${t} Document Type.`,position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}),this.$router.push({name:"type-of-document-lists"})):v.Z.create({message:o.message,position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else v.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},isValidEmail(e){const a=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return a.test(e)||"Invalid email"}}};var V=l(1639),y=l(4458),k=l(3190),Z=l(2857),q=l(8326),w=l(6611),W=l(3175),D=l(7817),x=l(8879),S=l(2304),U=l.n(S);const $=(0,V.Z)(g,[["render",b]]),I=$;U()(g,"components",{QCard:y.Z,QCardSection:k.Z,QIcon:Z.Z,QForm:q.Z,QInput:w.Z,QToggle:W.Z,QTabs:D.Z,QBtn:x.Z})}}]);