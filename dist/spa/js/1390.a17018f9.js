"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[1390],{81390:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var i=a(59835),s=a(799),l=a(86970);const o={class:"q-pa-md"},r={class:"row"},n={class:"col-12 col-md-6 q-pa-sm"},d={class:"col-12 col-md-6 q-pa-sm"},u=(0,i._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1);function c(e,t,a,c,p,m){const _=(0,i.up)("q-input"),h=(0,i.up)("q-form"),f=(0,i.up)("q-card-section"),g=(0,i.up)("q-card"),v=(0,i.up)("q-icon"),b=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",o,[(0,i.Wm)(g,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{ref:"announcement_form",onSubmit:(0,s.iM)(m.submit,["prevent"]),greedy:!0},{default:(0,i.w5)((()=>[(0,i._)("div",r,[(0,i._)("div",n,[(0,i.Wm)(_,{outlined:"",type:"number",label:"S1 Expiration No. of Years *",modelValue:e.s1_expire,"onUpdate:modelValue":t[0]||(t[0]=t=>e.s1_expire=t),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,i._)("div",d,[(0,i.Wm)(_,{outlined:"",type:"number",label:"S2 Expiration No. of Years *",modelValue:e.s2_expire,"onUpdate:modelValue":t[1]||(t[1]=t=>e.s2_expire=t),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),u,(0,i._)("div",null,[(0,i.Wm)(b,{color:"primary",class:"q-mt-xl",onClick:m.submit},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{name:"save"}),(0,i.Uk)(" "+(0,l.zw)(m.is_update?"Save Changes":"Save"),1)])),_:1},8,["onClick"])])])])}var p=a(6827);const m={data:()=>({s1_expire:"",s2_expire:""}),watch:{},computed:{is_update(){return!!this.$route.params.id&&(this.getSpecific(),!0)},selectedID(){return this.$route.params.id}},mounted(){},methods:{async validate(e){return await this.$refs.announcement_form.validate()},async getSpecific(){let e=this,t={id:e.selectedID},{data:a,status:i}=await this.$store.dispatch("application_expiration/getSpecific",t);if(console.log(a),[200,201].includes(i))for(let s in a)e[s]=a[s]},async submit(){let e=this;if(console.log(await this.validate()),await this.validate()){let t={s1_expire:e.s1_expire,s2_expire:e.s2_expire},a="application_expiration/add",i="created";e.is_update&&(t={data:t,id:e.selectedID},i="updated",a="application_expiration/update");let{data:s,status:l}=await this.$store.dispatch(a,t);[200,201].includes(l)?p.Z.create({message:`Successfully ${i} S1 and S2 Expiration.`,position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}):p.Z.create({message:s.message,position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else p.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"}}};var _=a(11639),h=a(44458),f=a(63190),g=a(22857),v=a(8326),b=a(66611),x=a(47817),w=a(68879),Z=a(69984),q=a.n(Z);const S=(0,_.Z)(m,[["render",c]]),y=S;q()(m,"components",{QCard:h.Z,QCardSection:f.Z,QIcon:g.Z,QForm:v.Z,QInput:b.Z,QTabs:x.Z,QBtn:w.Z})}}]);