"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[136],{4725:(e,l,a)=>{a.r(l),a.d(l,{default:()=>X});var o=a(9835),t=a(799);const i={class:"q-pa-md"},n=(0,o.Uk)(" Company Information"),s={class:"row"},m={class:"col-sm-12 col-md-8 q-pa-sm"},d={class:"col-sm-12 col-md-4 q-pa-sm"},u=(0,o.Uk)(" No results "),r={class:"row"},c={class:"col-sm-12 col-md-3 q-pa-sm"},p={class:"col-sm-12 col-md-3 q-pa-sm"},_={class:"col-sm-12 col-md-3 q-pa-sm"},f={class:"col-sm-12 col-md-3 q-pa-sm"},h={class:"row"},b={class:"col-sm-12 col-md-6 q-pa-sm"},y={class:"col-sm-12 col-md-6 q-pa-sm"},v=(0,o.Uk)(" Address"),q={class:"row"},V={class:"col-sm-12 col-md-6 q-pa-sm"},g={class:"col-sm-12 col-md-6 q-pa-sm"},w=(0,o._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1),A=(0,o.Uk)(" Save");function W(e,l,a,W,U,C){const Z=(0,o.up)("q-icon"),k=(0,o.up)("q-input"),F=(0,o.up)("q-item-section"),N=(0,o.up)("q-item"),Q=(0,o.up)("q-select"),S=(0,o.up)("q-form"),I=(0,o.up)("q-card-section"),z=(0,o.up)("q-card"),x=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",i,[(0,o.Wm)(z,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(Z,{name:"label_important",class:"text-h6 text-red-15"}),n]),(0,o.Wm)(S,{ref:"company_info_form",onSubmit:(0,t.iM)(C.submit,["prevent"]),greedy:!0},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o._)("div",m,[(0,o.Wm)(k,{outlined:"",label:"Company Name *",modelValue:e.company_name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.company_name=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",d,[(0,o.Wm)(Q,{modelValue:e.affiliation,"onUpdate:modelValue":l[1]||(l[1]=l=>e.affiliation=l),"input-debounce":"0",outlined:"",label:"Affiliation *",options:e.options,"option-value":e=>null===e?null:e.id,"option-label":e=>null===e?null:e.name,rules:[e=>!!e||"Field is required"]},{"no-option":(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(F,{class:"text-grey"},{default:(0,o.w5)((()=>[u])),_:1})])),_:1})])),_:1},8,["modelValue","options","option-value","option-label","rules"])])]),(0,o._)("div",r,[(0,o._)("div",c,[(0,o.Wm)(k,{outlined:"",label:"Mobile Number *",modelValue:e.mobile_num,"onUpdate:modelValue":l[2]||(l[2]=l=>e.mobile_num=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",p,[(0,o.Wm)(k,{outlined:"",label:"Telephone Number *",modelValue:e.telephone_number,"onUpdate:modelValue":l[3]||(l[3]=l=>e.telephone_number=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",_,[(0,o.Wm)(k,{outlined:"",label:"Alternate Telephone Number*",modelValue:e.alt_telephone_number,"onUpdate:modelValue":l[4]||(l[4]=l=>e.alt_telephone_number=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",f,[(0,o.Wm)(k,{outlined:"",label:"TIN *",modelValue:e.company_tin,"onUpdate:modelValue":l[5]||(l[5]=l=>e.company_tin=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])]),(0,o._)("div",h,[(0,o._)("div",b,[(0,o.Wm)(k,{outlined:"",label:"Accounting Representative *",modelValue:e.accounting_rep,"onUpdate:modelValue":l[6]||(l[6]=l=>e.accounting_rep=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",y,[(0,o.Wm)(k,{outlined:"",label:"Representative Email Address *",modelValue:e.accounting_rep_email,"onUpdate:modelValue":l[7]||(l[7]=l=>e.accounting_rep_email=l),type:"email",rules:[e=>!!e||"Field is required",C.isValidEmail]},null,8,["modelValue","rules"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),(0,o.Wm)(z,{bordered:"",class:"my-card q-my-md",elevated:"",square:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(Z,{name:"label_important",class:"text-h6 text-red-15"}),v]),(0,o.Wm)(S,{ref:"company_adress_form",onSubmit:(0,t.iM)(C.submit,["prevent"]),greedy:!0},{default:(0,o.w5)((()=>[(0,o._)("div",q,[(0,o._)("div",V,[(0,o.Wm)(k,{outlined:"",label:"Country *",modelValue:e.country,"onUpdate:modelValue":l[8]||(l[8]=l=>e.country=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,o._)("div",g,[(0,o.Wm)(k,{outlined:"",label:"Company Address *",modelValue:e.company_address,"onUpdate:modelValue":l[9]||(l[9]=l=>e.company_address=l),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),w,(0,o._)("div",null,[(0,o.Wm)(x,{color:"primary",class:"q-mt-xl",onClick:C.submit},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{name:"save"}),A])),_:1},8,["onClick"])])])])}var U=a(4328);const C={data:()=>({add_company:!0,company_name:"",affiliation:"",mobile_num:"",telephone_number:"",alt_telephone_number:"",company_tin:"",accounting_rep:"",accounting_rep_email:"",country:"",company_address:"",options:[],size:100}),mounted(){this.initApp()},methods:{async validate(e){return await this.$refs.company_info_form.validate()||await this.$refs.company_adress_form.validate()},async submit(){if(console.log(await this.validate()),await this.validate()){let e={type:"c",name:this.company_name.toUpperCase(),address:this.company_address.toUpperCase(),country:this.country.toUpperCase(),tinno:this.company_tin.toUpperCase(),phone:this.telephone_number.toUpperCase(),mobile:this.mobile_num.toUpperCase(),contact:{title:"NA",fname:this.accounting_rep.toUpperCase(),lname:"NA",mname:"NA",phone:"NA",email:this.accounting_rep_email},affiliateID:this.affiliation.id},{data:l,status:a}=await this.$store.dispatch("company/addCompany",e);[200,201].includes(a)?U.Z.create({message:"Successfully added company.",position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}):U.Z.create({message:"Something went wrong!",position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else U.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},initApp(){this.getAllAffiliation()},async getAllAffiliation(){let e={page:1,size:this.size,order:"id:asc",search:""};try{let{data:l,status:a}=await this.$store.dispatch("affiliation/getAllAffiliation",e);this.options=l.rows}catch(l){}},isValidEmail(e){const l=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return l.test(e)||"Invalid email"}}};var Z=a(1639),k=a(4458),F=a(3190),N=a(2857),Q=a(8326),S=a(6611),I=a(6945),z=a(490),x=a(1233),$=a(7817),B=a(4455),T=a(9984),E=a.n(T);const M=(0,Z.Z)(C,[["render",W]]),X=M;E()(C,"components",{QCard:k.Z,QCardSection:F.Z,QIcon:N.Z,QForm:Q.Z,QInput:S.Z,QSelect:I.Z,QItem:z.Z,QItemSection:x.Z,QTabs:$.Z,QBtn:B.Z})}}]);