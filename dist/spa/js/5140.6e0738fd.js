"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[5140],{5140:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(9835),l=s(799),i=s(6970);const o={class:"q-pa-md"},r={class:"row"},d={class:"col-12 col-md-6 q-pa-sm"},u={class:"col-12 col-md-6 q-pa-sm"},n=(0,a._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1);function c(e,t,s,c,m,p){const _=(0,a.up)("q-input"),h=(0,a.up)("q-form"),f=(0,a.up)("q-card-section"),g=(0,a.up)("q-card"),v=(0,a.up)("q-icon"),b=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",o,[(0,a.Wm)(g,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{ref:"announcement_form",onSubmit:(0,l.iM)(p.submit,["prevent"]),greedy:!0},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a._)("div",d,[(0,a.Wm)(_,{outlined:"",label:"Number of Hours *",modelValue:e.settle_hours,"onUpdate:modelValue":t[0]||(t[0]=t=>e.settle_hours=t),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,a._)("div",u,[(0,a.Wm)(_,{outlined:"",label:"Number of Days *",modelValue:e.settle_days,"onUpdate:modelValue":t[1]||(t[1]=t=>e.settle_days=t),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),n,(0,a._)("div",null,[(0,a.Wm)(b,{color:"primary",class:"q-mt-xl",onClick:p.submit},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{name:"save"}),(0,a.Uk)(" "+(0,i.zw)(p.is_update?"Save Changes":"Save"),1)])),_:1},8,["onClick"])])])])}var m=s(6827);const p={data:()=>({settle_days:null,settle_hours:null}),watch:{},computed:{is_update(){return!!this.$route.params.id&&(this.getSpecific(),!0)},selectedID(){return this.$route.params.id}},mounted(){},methods:{async validate(e){return await this.$refs.announcement_form.validate()},async getSpecific(){let e=this,t={id:e.selectedID},{data:s,status:a}=await this.$store.dispatch("s1_sched_of_fees/getSpecific",t);if(console.log(s),[200,201].includes(a))for(let l in s){let t=["basis","expire","input","launch","remark","remark","variant"];t.includes(l)?e[l]=!!s[l]:e[l]=s[l]}},async submit(){let e=this;if(console.log(await this.validate()),await this.validate()){let t={settle_days:e.settle_days,settle_hours:e.settle_hours},s="s1_sched_of_fees/add",a="created";e.is_update&&(t={data:t,id:e.selectedID},a="updated",s="s1_sched_of_fees/update");let{data:l,status:i}=await this.$store.dispatch(s,t);[200,201].includes(i)?m.Z.create({message:`Successfully ${a} S1 Fees Settlement Period.`,position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}):m.Z.create({message:l.message,position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else m.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"}}};var _=s(1639),h=s(4458),f=s(3190),g=s(2857),v=s(8326),b=s(6611),w=s(7817),y=s(8879),Z=s(2304),q=s.n(Z);const S=(0,_.Z)(p,[["render",c]]),k=S;q()(p,"components",{QCard:h.Z,QCardSection:f.Z,QIcon:g.Z,QForm:v.Z,QInput:b.Z,QTabs:w.Z,QBtn:y.Z})}}]);