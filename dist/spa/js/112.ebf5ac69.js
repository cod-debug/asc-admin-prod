"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[112],{112:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(9835),i=a(799),o=a(6970);const r={class:"q-pa-md"},l={class:"row"},d={class:"col-12 col-md-12 q-pa-sm"},n=(0,s._)("hr",{class:"q-tabs-gutter",color:"lightgray"},null,-1);function u(e,t,a,u,c,m){const p=(0,s.up)("q-input"),_=(0,s.up)("q-form"),h=(0,s.up)("q-card-section"),f=(0,s.up)("q-card"),g=(0,s.up)("q-icon"),v=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",r,[(0,s.Wm)(f,{bordered:"",class:"my-card",elevated:"",square:!0},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{ref:"announcement_form",onSubmit:(0,i.iM)(m.submit,["prevent"]),greedy:!0},{default:(0,s.w5)((()=>[(0,s._)("div",l,[(0,s._)("div",d,[(0,s.Wm)(p,{outlined:"",label:"Number of Days *",modelValue:e.promi_days,"onUpdate:modelValue":t[0]||(t[0]=t=>e.promi_days=t),rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1}),n,(0,s._)("div",null,[(0,s.Wm)(v,{color:"primary",class:"q-mt-xl",onClick:m.submit},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{name:"save"}),(0,s.Uk)(" "+(0,o.zw)(m.is_update?"Save Changes":"Save"),1)])),_:1},8,["onClick"])])])])}var c=a(6827);const m={data:()=>({promi_days:null}),watch:{},computed:{is_update(){return!!this.$route.params.id&&(this.getSpecific(),!0)},selectedID(){return this.$route.params.id}},mounted(){},methods:{async validate(e){return await this.$refs.announcement_form.validate()},async getSpecific(){let e=this,t={id:e.selectedID},{data:a,status:s}=await this.$store.dispatch("promissory_note_period/getSpecific",t);if(console.log(a),[200,201].includes(s))for(let i in a){let t=["basis","expire","input","launch","remark","remark","variant"];t.includes(i)?e[i]=!!a[i]:e[i]=a[i]}},async submit(){let e=this;if(console.log(await this.validate()),await this.validate()){let t={promi_days:e.promi_days},a="promissory_note_period/add",s="created";e.is_update&&(t={data:t,id:e.selectedID},s="updated",a="promissory_note_period/update");let{data:i,status:o}=await this.$store.dispatch(a,t);[200,201].includes(o)?c.Z.create({message:`Successfully ${s} Document Type.`,position:"top-right",closeBtn:"X",timeout:2e3,color:"green"}):c.Z.create({message:i.message,position:"top-right",closeBtn:"X",timeout:2e3,color:"red"})}else c.Z.create({message:"Validation error. Kindly check all fields!",position:"top-right",closeBtn:"X",timeout:2e3})},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Invalid email"}}};var p=a(1639),_=a(4458),h=a(3190),f=a(2857),g=a(8326),v=a(6611),y=a(7817),b=a(8879),w=a(2304),Z=a.n(w);const q=(0,p.Z)(m,[["render",u]]),k=q;Z()(m,"components",{QCard:_.Z,QCardSection:h.Z,QIcon:f.Z,QForm:g.Z,QInput:v.Z,QTabs:y.Z,QBtn:b.Z})}}]);